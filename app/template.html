<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SNOMED Concept Diagram</title>
  <style>
    body { margin: 0; padding: 0; }
    #diagram-container { background: white; }
    #diagram-container-diagram-toolbar { display: none; }
    
    /* Fix text centering for concrete value boxes */
    .concrete-value text {
      text-anchor: middle !important;
    }
    
    /* Alternative approach: target the specific text elements within concrete value boxes */
    .concrete-value .sct-text {
      text-anchor: middle !important;
    }
    
    /* Ensure all text in concrete value boxes is centered */
    .concrete-value tspan {
      text-anchor: middle !important;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="lib/jquery.svg.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>
</head>
<body>
  <div id="diagram-container"></div>

  <!-- Load the SNOMED diagram renderer -->
  <script id="diagram-template" type="text/x-handlebars-template">
    <div class="container" style="max-width: 100%;">
      <div id="concept-diagram-body" class="row" style="overflow: auto; width: 1000px;"></div>
    </div>
  </script>
  <script src="lib/snomed-interaction-components.min.js"></script>
  <script src="drawConceptDiagram.js"></script>
  <script>
    window.renderConceptDiagram = function(concept) {
      const container = $('#diagram-container');
      container.html('');
      const options = {
        ungroupedAttributes: [],
        defaultLanguage: 'en'
      }
      // Ensure we have the FSN term
      if (!concept.fsn) {
        concept.fsn = concept.descriptions.find(d => d.type === 'FSN' && d.active);
      }
      drawConceptDiagram(concept, container, options);
    };
  </script>
</body>
</html>
