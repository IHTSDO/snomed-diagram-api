[program:snomed-diagram-api]
command=node /opt/snomed-diagram-api/server.js
directory=/opt/snomed-diagram-api
user=snomed-diagram
autostart=true
autorestart=true
startsecs=10
startretries=3
stopwaitsecs=10
killasgroup=true
priority=999

; Logging
stdout_logfile=/var/log/snomed-diagram-api/out.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=/var/log/snomed-diagram-api/err.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

; Environment variables
environment=NODE_ENV="production",PORT="3000"

; Process management
numprocs=1
process_name=%(program_name)s_%(process_num)02d
